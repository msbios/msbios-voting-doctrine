<?php
/**
 * @access protected
 * @author Judzhin Miles <info[woof-woof]msbios.com>
 */

/** @var string $identifier */
$identifier = 1;

/** @var \MSBios\Voting\Resource\Doctrine\Entity\Poll $poll */
$poll = $this->poll()->find($identifier);

/** @var \Zend\Form\FormInterface $form */
$form = $this->poll()->form();
$form->setAttribute('action', $this->url('home'));
$form->prepare();
?>
    <h1>
        <?= $poll->getSubject(); ?>
        <small><?= $poll->getTotal(); ?></small>
    </h1>

<?= $this->form()->openTag($form); ?>
    <ul>
        <?php foreach ($form->getOptionElement()->getValueOptions() as $option): ?>
            <li>
                <label>
                <?= $this->formRadio(new \Zend\Form\Element\Radio($form->getOptionElement()->getName(), [
                    'value_options' => [[
                        'value' => $option['value'],
                    ]]
                ])); ?>
                <?= $option['label']; ?></label>
            </li>
        <?php endforeach; ?>
    </ul>
<?= $this->formElement($form->getRelationElement()); ?>
<?= $this->formButton($form->getSubmitElement()->setAttribute('class', 'btn btn-default')->setLabel('Button')); ?>
<?= $this->form()->closeTag($form); ?>